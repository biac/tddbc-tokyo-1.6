■ T16MAIN-1: putでkeyとvalueを追加し、dumpで一覧表示、getでkeyに対応するvalueを取得できる
put で keyとvalueを追加する
 • dumpで登録されている一覧を表示
 • getで指定したkeyのvalueを取得
注1)keyにnullをわたすと例外が発生
注2)valueのnullは許容する

※ keyとvalueの型は? …分からないから、とりあえずstringにしとくか f(^^;


■ T16MAIN-2: deleteで指定のkey-valueを削除
deleteで指定したkeyとvalueを削除する
 • 存在しないkeyが渡されたら何もしない
 • nullを渡すと例外が発生する

■ T16MAIN-3: putの引数に既に存在するkeyが指定された場合、valueのみを更新する
putで既に存在するkeyの場合はvalueを更新する

■ T16MAIN-4: keyとvalueのセットを一度に複数追加できる
複数のkeyとvalueをまとめて追加できるようにする
同じキーが複数ある場合、一番最後に指定されたものが使用される。
既に存在するキーがある場合も、今回指定したものが優先される。
指定した引数の中にnullのキーがある場合、例外を投げ、状態を元に戻す。

// ここまででフェーズ1 終了



13:45 2011/08/03

■ T16MAIN-5: putの引数でkey,value,date(時刻情報)を渡し、dumpを時間順に出力するように仕様変更
putの引数でkey,value,date(時刻情報)を渡せるようにする。
また、dump関数は時刻が新しい方から古い方へ順にkey、valueを出力するように変更する。
引数に複数指定して追加する関数の場合、後ろにあるものほど新しいとみなす。

※ こういうときはTDD三原則から外れて、先に実装のメンバー変数 _dic の型を変えてしまう(複雑になるので、リファクタリングとは呼ばない)。
  オールGREENになるようにしてから、テストケースを増やす。

※ 今までは key, value だけだったから、.NET Framework の KeyValuPair が入れ物に使えた。
  ここからは、key, value, time をセットで保持できる入れ物が必要になる。
  その入れ物として Tupple を使いたい誘惑に駆られるが… Dump() で public に公開する型になるので、Tupple ではマズい。
	※※ Tupple では、KeyValuPair とインターフェースが合わない (Key, Value プロパティが無い)
	※※ Tupple には何が入っているのか、ドキュメントが無いと分からない。private で使う分には便利だが、public にすべきではない。
  → KeyValuPair を拡張したカタチの入れ物 KeyValueTime を、新しく作る。

※ key が同じで date が異なるときは…? わかんね。とりあえず、両方保持するようにしておく。
※ ん? 複数まとめての put では、date(時刻情報)付けないの? > 引数に複数指定して追加する関数の場合、後ろにあるものほど新しいとみなす。

14:58 2011/08/03 - KeyValueTime の実装完了。KeyValueTime を使うように修正完了。それに伴い、テストケースをいくつか追加。

// ここでコミット: TddbcTokyo1.6_CS02a.zip / Git



